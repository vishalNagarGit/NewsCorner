(this.webpackJsonpnews_client=this.webpackJsonpnews_client||[]).push([[0],{20:function(e,t,a){e.exports=a(32)},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),l=a.n(o),s=a(3),c=a.n(s),i=a(4),u=a(1),d=a(9),m=a(10),b=a(11),p=a.n(b);var f=function(e){var t=Object(n.useState)("india"),a=Object(u.a)(t,2),o=a[0],l=a[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"dropdown"},"country  ",r.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenu2","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenu2"},r.a.createElement("button",{onClick:function(){l("india"),e.setCountry("in")},className:"dropdown-item",type:"button"},"india"),r.a.createElement("button",{onClick:function(){l("us"),e.setCountry("us")},className:"dropdown-item",type:"button"},"us"))))},g=a(5),v=a.n(g);var E=function(e){return r.a.createElement("div",null,r.a.createElement("div",{class:"dropdown"},r.a.createElement("button",{class:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenu2","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},e.username),r.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenu2"},r.a.createElement("button",{onClick:function(){e.setShowSaved(!0),e.fetchSavedItems()},class:"dropdown-item",type:"button"},"Saved Articles"),r.a.createElement("button",{onClick:function(){v.a.remove("NewsCookie"),e.fetchUser()},class:"dropdown-item",type:"button"},"logout"))))};var h=function(e){return r.a.createElement("div",null,r.a.createElement("div",{class:"dropdown"},"Category  ",r.a.createElement("button",{class:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenu2","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},e.category),r.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenu2"},r.a.createElement("button",{onClick:function(){e.setCategory("sports")},class:"dropdown-item",type:"button"},"sports"),r.a.createElement("button",{onClick:function(){e.setCategory("business")},class:"dropdown-item",type:"button"},"business"),r.a.createElement("button",{onClick:function(){e.setCategory("entertainment")},class:"dropdown-item",type:"button"},"entertainment"),r.a.createElement("button",{onClick:function(){e.setCategory("general")},class:"dropdown-item",type:"button"},"general"),r.a.createElement("button",{onClick:function(){e.setCategory("health")},class:"dropdown-item",type:"button"},"health"),r.a.createElement("button",{onClick:function(){e.setCategory("science")},class:"dropdown-item",type:"button"},"science"),r.a.createElement("button",{onClick:function(){e.setCategory("technology")},class:"dropdown-item",type:"button"},"technology"),r.a.createElement("button",{onClick:function(){e.setCategory("All Categories")},class:"dropdown-item",type:"button"},"All Categories"))))},y=a(12),w=a.n(y),j=a(16),C=a.n(j);var S=function(e){Object(n.useEffect)((function(){g()}),[]);var t=Object(n.useState)("login"),a=Object(u.a)(t,2),o=a[0],l=a[1],s=Object(n.useState)({username:"",objectId:""}),c=Object(u.a)(s,2),i=c[0],b=c[1];function g(){if(null!=v.a.get("NewsCookie")){var t=JSON.parse(v.a.get("NewsCookie"));b({username:t.username,objectId:t.objectId}),e.setObjectId(t.objectId),e.setLoginStatus(!0)}else b({username:"",objectId:""}),e.setLoginStatus(!1)}var y=Object(n.useState)({username:"",email:"",password:""}),j=Object(u.a)(y,2),S=j[0],N=j[1];function k(e){var t=e.target,a=t.name,n=t.value;N((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(d.a)({},a,n))}))}return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light "},r.a.createElement("a",{className:"navbar-brand",href:"#"},r.a.createElement("span",null,r.a.createElement(w.a,null))," NewsCorner"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},e.showSaved?r.a.createElement("ul",{onClick:function(){e.setShowSaved(!1),e.setArticles()},className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(C.a,null))):r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(f,{setCountry:e.setCountry})),r.a.createElement("li",{className:"nav-item active"},r.a.createElement(h,{setCategory:e.setCategory,category:e.category})),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{type:"button",onClick:function(){e.setArticles()},className:"btn btn-primary"},"Search")),""!=i.username?r.a.createElement("li",{className:"nav-item active"},r.a.createElement(E,{username:i.username,fetchUser:g,setShowSaved:e.setShowSaved,fetchSavedItems:e.fetchSavedItems})):r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{type:"button",class:"btn btn-primary","data-toggle":"modal","data-target":"#staticBackdrop"},"login/register"),r.a.createElement("div",{class:"modal fade",id:"staticBackdrop","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},r.a.createElement("div",{class:"modal-dialog",role:"document"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",null,r.a.createElement("button",{id:"cross",type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{class:"modal-body"},r.a.createElement("form",{onSubmit:function(e){"register"==o?fetch("/user/"+o+"/"+S.username+"/"+S.email+"/"+S.password).then((function(e){return e.json()})).then((function(e){N({username:"",email:"",password:""}),"ok"==e.status?(alert("you are successfully registered \n login to enter!!"),l("login")):alert(e.status)})):fetch("/user/"+o+"/"+S.email+"/"+S.password).then((function(e){return e.json()})).then((function(e){N({username:"",email:"",password:""}),"ok"==e.status?(v.a.set("NewsCookie",{username:e.username,objectId:e.objectId},{expires:7}),p()("#cross").click(),p()(".modal-backdrop").remove(),g()):alert("wrong email or password")})),e.preventDefault()},class:"form-signin"},r.a.createElement(w.a,null),r.a.createElement("h1",{class:"h3 mb-3 font-weight-normal"},"Please ",o),"register"==o?r.a.createElement("div",null,r.a.createElement("label",{for:"inputUserName",class:"sr-only"},"Username"),r.a.createElement("input",{type:"text",name:"username",value:S.username,class:"form-control",onChange:k,placeholder:"username",required:!0,autofocus:""})):"",r.a.createElement("label",{for:"inputEmail",class:"sr-only"},"Email address"),r.a.createElement("input",{type:"email",name:"email",value:S.email,class:"form-control",onChange:k,placeholder:"Email address",required:!0,autofocus:""}),r.a.createElement("label",{for:"inputPassword",class:"sr-only"},"Password"),r.a.createElement("input",{type:"password",name:"password",onChange:k,value:S.password,class:"form-control",placeholder:"Password",required:!0}),r.a.createElement("button",{class:"btn btn-lg btn-primary btn-block",type:"submit"},o),r.a.createElement("a",{className:"formStatus",onClick:function(){l("login"==o?"register":"login")}},"login"==o?"register":"login"),r.a.createElement("p",{class:"mt-5 mb-3 text-muted"},"\xa9 2017-2020"))))))))))},N=a(17),k=a.n(N),O=a(18),I=a.n(O);var x=function(e){var t=function(){var t=Object(i.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e.title,imageUrl:e.imgUrl,full:e.full,objectId:e.objectId})},"/save",fetch("/save",a).then((function(e){return e.json()})).then((function(e){alert(e.status)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=function(){var t=Object(i.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e.title,imageUrl:e.imgUrl,full:e.full,objectId:e.objectId})},"/delete",fetch("/delete",a).then((function(e){return e.json()})).then((function(t){e.fetchSavedItems(),alert(t.status)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-6 align-items-center cardOut",style:{width:"15rem"}},r.a.createElement("div",{className:"shadow p-3 mb-5 bg-white rounded"},r.a.createElement("img",{className:"card-img-top",src:e.imgUrl,alt:""}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.title),r.a.createElement("a",{href:e.full,target:"_blank",class:"btn btn-secondary btn-sm"},"Full Article"),e.loginStatus&&0==e.showSaved?r.a.createElement("a",{className:"floatRight ","data-toggle":"tooltip","data-placement":"top",title:"Save Article",onClick:t},r.a.createElement(k.a,null)):"",e.showSaved?r.a.createElement("a",{className:"floatRight ","data-toggle":"tooltip","data-placement":"top",title:"Delete Article",onClick:a},r.a.createElement(I.a,null)):"")))};var A=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)("in"),s=Object(u.a)(l,2),d=s[0],m=s[1],b=Object(n.useState)("All Categories"),p=Object(u.a)(b,2),f=p[0],g=p[1],v=Object(n.useState)(!1),E=Object(u.a)(v,2),h=E[0],y=E[1],w=Object(n.useState)(!1),j=Object(u.a)(w,2),C=j[0],N=j[1],k=Object(n.useState)(""),O=Object(u.a)(k,2),I=O[0],A=O[1],U=Object(n.useState)(!1),L=Object(u.a)(U,2),M=L[0],T=L[1];Object(n.useEffect)((function(){y(!1),J()}),[]);var B=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/saved/"+I,e.next=3,fetch(t).then((function(e){return e.json()})).then((function(e){"ok"!=e.status?alert(e.status):(o(e.articles),y(!0))}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!1),t="country="+d,"All Categories"!==f&&(t+="&category="+f),e.next=5,fetch("/articles/"+t).then((function(e){return e.json()})).then((function(e){o(e.articles),y(!0)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return h?r.a.createElement("div",null,r.a.createElement(S,{setArticles:J,setCountry:m,setCategory:g,category:f,setLoginStatus:N,setObjectId:A,showSaved:M,setShowSaved:T,fetchSavedItems:B}),r.a.createElement("div",{className:"row justify-content-cente cardBox"},a.map((function(e,t){return r.a.createElement(x,{key:t,imgUrl:e.urlToImage,title:e.title,full:e.url,loginStatus:C,objectId:I,showSaved:M,fetchSavedItems:B})})))):r.a.createElement("div",null,r.a.createElement(S,{setArticles:J,setCountry:m,setCategory:g,category:f,setLoginStatus:N,setObjectId:A,showSaved:M,setShowSaved:T,fetchSavedItems:B}),r.a.createElement("h1",null,"loading"))};l.a.render(r.a.createElement(A,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.28fe9763.chunk.js.map